(this["webpackJsonpvending-machine"]=this["webpackJsonpvending-machine"]||[]).push([[0],[,,,,,,,,function(t,e,n){t.exports=n(17)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),u=(n(13),n(1)),l=n(2),s=n(4),i=n(3),d=n(5),m=function(){return c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"code"),c.a.createElement("th",null,"Product"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null)))},b=function(t){var e=t.productsData.map((function(t,e){for(var n="img/products/"+t.img,a=[],r=0;r<t.noRemaining;r++)a.push(c.a.createElement("img",{src:n,key:t.id+r,height:"32",width:"32",alt:t.name}));return c.a.createElement("tr",{key:e},c.a.createElement("td",null,t.id),c.a.createElement("td",null," ",a," "),c.a.createElement("td",null,t.price," $"))}));return c.a.createElement("tbody",null,e)},h=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.productsData;return c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement(m,null),c.a.createElement(b,{productsData:t})))}}]),e}(a.Component),f=(n(14),function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.currentProduct,n=t.buyProduct,a=t.createProductCode,r=t.del,o=t.message;return c.a.createElement("div",{className:"keyboard-section"},c.a.createElement("section",null,"Product code: ",e),c.a.createElement("section",null,c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(1)}}," 1 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(2)}}," 2 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(3)}}," 3 ")),c.a.createElement("section",null,c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(4)}}," 4 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(5)}}," 5 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(6)}}," 6 ")),c.a.createElement("section",null,c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(7)}}," 7 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(8)}}," 8 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(9)}}," 9 ")),c.a.createElement("section",null,c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return r()}},"<"),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return a(0)}}," 0 "),c.a.createElement("button",{className:"button keyboard-button",onClick:function(){return n(e)}},"buy")),c.a.createElement("section",null," ",o," "))}}]),e}(a.Component)),p=(n(15),function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.credit,n=t.addCash;return c.a.createElement("div",{className:"add-cash-section"},c.a.createElement("span",null,"Add Cash"),c.a.createElement("br",null),c.a.createElement("button",{className:"add-cash-button",onClick:function(){return n(1)}},"1$"),c.a.createElement("button",{className:"add-cash-button",onClick:function(){return n(5)}},"5$"),c.a.createElement("button",{className:"add-cash-button",onClick:function(){return n(10)}},"10$"),c.a.createElement("br",null),"Current credit: ",e,"$")}}]),e}(a.Component)),E=(n(16),function(){function t(){Object(u.a)(this,t),this.httpHeaders={Accept:"application/json","Content-Type":"application/json"}}return Object(l.a)(t,[{key:"getProducts",value:function(){return fetch("http://localhost:3100/products").then((function(t){return t.json()}))}},{key:"buyProduct",value:function(t){return fetch("http://localhost:3100/product",{method:"POST",headers:this.httpHeaders,body:JSON.stringify({product:t})}).then((function(t){return t.json()}))}}]),t}()),k=function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(c)))).vendongMachineService=new E,n.state={products:[],credit:0,message:"",currentProduct:""},n.buyProduct=function(t){var e=n.state,a=e.products,c=e.credit,r=a.find((function(e){return e.id===t}));r?r.noRemaining&&r.price<=c?n.vendongMachineService.buyProduct(r).then((function(t){n.setState({products:t,currentProduct:"",credit:c-r.price,message:""})}),(function(t){n.setState({message:t.message})})):r.price>c?n.setState({message:"No enougth cash! Please add more cash"}):n.setState({message:"No more products"}):n.setState({message:"Wrong product code"})},n.addCash=function(t){var e=n.state.credit;n.setState({credit:e+t})},n.createProductCode=function(t){var e=n.state.currentProduct;n.setState({currentProduct:e+t})},n.del=function(t){var e=n.state.currentProduct;n.setState({currentProduct:e.slice(0,-1)})},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.vendongMachineService.getProducts().then((function(e){t.setState({products:e})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.message,a=t.credit,r=t.currentProduct;return c.a.createElement("div",{className:"full-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"column"},c.a.createElement(h,{productsData:e})),c.a.createElement("div",{className:"column"},c.a.createElement(p,{addCash:this.addCash,credit:a}),c.a.createElement(f,{currentProduct:r,buyProduct:this.buyProduct,createProductCode:this.createProductCode,del:this.del,message:n}))))}}]),e}(a.Component);o.a.render(c.a.createElement(k,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.69d2843a.chunk.js.map