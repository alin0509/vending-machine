{"version":3,"sources":["app/components/ProductsTable/ProductsTable.js","app/components/KeyBoard/Keyboard.js","app/components/AddCash/AddCash.js","app/VendingMachineService.js","app/App.js","index.js"],"names":["TableHeader","TableBody","props","rows","productsData","map","row","index","url","img","imgs","i","noRemaining","push","src","key","id","height","width","alt","name","price","ProductsTable","this","Component","Keyboard","currentProduct","buyProduct","createProductCode","del","message","className","onClick","AddCash","credit","addCash","VendongMachineService","httpHeaders","Accept","fetch","then","res","json","product","method","headers","body","JSON","stringify","App","vendongMachineService","state","products","find","setState","error","val","slice","getProducts","isLoaded","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69d2843a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst TableHeader = () => {\r\n\treturn (\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>code</th>\r\n\t\t\t\t<th>Product</th>\r\n\t\t\t\t<th>Price</th>\r\n\t\t\t\t<th></th>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t)\r\n}\r\nconst TableBody = props => {\r\n\tconst rows = props.productsData.map((row, index) => {\r\n\t\tconst url = \"img/products/\" + row.img;\r\n\t\tconst imgs = [];\r\n\t\tfor (let i = 0; i < row.noRemaining; i++) {\r\n\t\t\timgs.push(<img src={url} key={row.id + i} height=\"32\" width=\"32\" alt={row.name}></img>);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<tr key={index}>\r\n\t\t\t\t<td>{row.id}</td>\r\n\t\t\t\t<td> {imgs} </td>\r\n\t\t\t\t<td>{row.price} $</td>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t})\r\n\r\n\treturn <tbody>{rows}</tbody>\r\n}\r\n\r\nclass ProductsTable extends Component {\r\n\trender() {\r\n\t\tconst { productsData } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<TableHeader />\r\n\t\t\t\t\t<TableBody productsData={productsData} />\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ProductsTable","import React, { Component } from 'react'\r\nimport './Keyboard.scss'\r\n\r\nclass Keyboard extends Component {\r\n  render() {\r\n    const { currentProduct, buyProduct, createProductCode, del, message } = this.props;\r\n    return (\r\n      <div className=\"keyboard-section\">\r\n        <section>Product code: {currentProduct}</section>\r\n        <section >\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(1)}> 1 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(2)}> 2 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(3)}> 3 </button>\r\n        </section>\r\n        <section>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(4)}> 4 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(5)}> 5 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(6)}> 6 </button>\r\n        </section>\r\n        <section>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(7)}> 7 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(8)}> 8 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(9)}> 9 </button>\r\n        </section>\r\n        <section>\r\n          <button className=\"button keyboard-button\" onClick={() => del()}>{'<'}</button>\r\n          <button className=\"button keyboard-button\" onClick={() => createProductCode(0)}> 0 </button>\r\n          <button className=\"button keyboard-button\" onClick={() => buyProduct(currentProduct)} >buy</button>\r\n        </section>\r\n        <section> {message} </section>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Keyboard","import React, { Component } from 'react'\r\nimport './AddCash.scss'\r\n\r\nclass AddCash extends Component {\r\n  render() {\r\n\r\n    const { credit, addCash } = this.props\r\n    return (\r\n      <div className=\"add-cash-section\">\r\n        <span>Add Cash</span><br />\r\n        <button className=\"add-cash-button\" onClick={() => addCash(1)}>1$</button>\r\n        <button className=\"add-cash-button\" onClick={() => addCash(5)}>5$</button>\r\n        <button className=\"add-cash-button\" onClick={() => addCash(10)}>10$</button>\r\n        <br />\r\n        Current credit: {credit}$\r\n            </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCash","export class VendongMachineService {\r\n\thttpHeaders = {\r\n\t\tAccept: 'application/json',\r\n\t\t'Content-Type': 'application/json',\r\n\t}\r\n\r\n\tgetProducts() {\r\n\t\treturn fetch(\"http://localhost:3100/products\").then(res => res.json())\r\n\t};\r\n\r\n\tbuyProduct(product) {\r\n\t\treturn fetch('http://localhost:3100/product', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this.httpHeaders,\r\n\t\t\tbody: JSON.stringify({ product }),\r\n\t\t}).then(res => res.json())\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport ProductsTable from './components/ProductsTable/ProductsTable'\r\nimport Keyboard from './components/KeyBoard/Keyboard'\r\nimport AddCash from './components/AddCash/AddCash'\r\nimport './App.scss'\r\nimport { VendongMachineService } from './VendingMachineService';\r\n\r\nclass App extends Component {\r\n  vendongMachineService = new VendongMachineService();\r\n  state = {\r\n    products: [],\r\n    credit: 0,\r\n    message: '',\r\n    currentProduct: ''\r\n  }\r\n\r\n  buyProduct = id => {\r\n    let { products, credit } = this.state\r\n    const product = products.find(product => product.id === id)\r\n    if (product) {\r\n      if (product.noRemaining && product.price <= credit) {\r\n        this.vendongMachineService.buyProduct(product)\r\n          .then((products) => {\r\n            this.setState({\r\n              products: products,\r\n              currentProduct: '',\r\n              credit: credit - product.price,\r\n              message: '',\r\n            });\r\n          },\r\n            (error) => {\r\n              this.setState({ message: error.message });\r\n            }\r\n          )\r\n      }\r\n      else {\r\n        if (product.price > credit) {\r\n          this.setState({ message: 'No enougth cash! Please add more cash' });\r\n\r\n        } else {\r\n          this.setState({ message: 'No more products' });\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      this.setState({ message: 'Wrong product code' });\r\n    }\r\n  }\r\n\r\n  addCash = val => {\r\n    const { credit } = this.state\r\n    this.setState({\r\n      credit: credit + val\r\n    })\r\n  }\r\n\r\n  createProductCode = val => {\r\n    const { currentProduct } = this.state\r\n    this.setState({\r\n      currentProduct: currentProduct + val\r\n    })\r\n  }\r\n\r\n  del = val => {\r\n    const { currentProduct } = this.state\r\n    this.setState({\r\n      currentProduct: currentProduct.slice(0, -1)\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.vendongMachineService.getProducts()\r\n      .then((products) => {\r\n        this.setState({\r\n          products: products\r\n        });\r\n      },\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error\r\n          });\r\n        }\r\n      )\r\n  }\r\n\r\n  render() {\r\n    const { products, message, credit, currentProduct } = this.state\r\n\r\n    return (\r\n      <div className=\"full-container\">\r\n        <div className=\"row\">\r\n          <div className=\"column\">\r\n            <ProductsTable productsData={products} />\r\n          </div>\r\n          <div className=\"column\">\r\n            <AddCash addCash={this.addCash} credit={credit} />\r\n            <Keyboard\r\n              currentProduct={currentProduct}\r\n              buyProduct={this.buyProduct}\r\n              createProductCode={this.createProductCode}\r\n              del={this.del}\r\n              message={message}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './app/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}